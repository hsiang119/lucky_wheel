(function(){"use strict";var t={4962:function(t,e,n){var r=n(8935),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"start",on:{click:t.start}},[t._v(" Start ")]),t._m(0),n("div",{staticClass:"wheel"},[n("div",{staticClass:"innerWheel"},t._l(t.prize1,(function(e,r){return n("div",{key:r,staticClass:"sector",style:t.drawFan(r,t.prize1)},[n("div",{staticClass:"content",style:t.drawContent(r,t.prize1)},["0"==r?n("div",{staticClass:"prize-text"},[t._v(t._s(e.prize))]):t._e(),"1"==r?n("div",{staticClass:"prize-text2"},[t._v(t._s(e.prize))]):t._e(),"2"==r?n("div",{staticClass:"prize-text3"},[t._v(t._s(e.prize))]):t._e(),"3"==r?n("div",{staticClass:"prize-text4"},[t._v(t._s(e.prize))]):t._e()])])})),0)]),n("div",{staticClass:"hours-hand",style:{transition:t.transitionTime}})])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fan"},[n("div",{staticClass:"inner"})])}],o={name:"app",data(){return{transitionTime:"2.5s",clickable:!0,prize1:[],Deg:0,prizeContent:"",total1:10}},methods:{drawFan(t,e){const n=360/e.length,r=-n;return`transform:rotate(${r+t*n}deg)`},drawContent(t,e){const n=360/e.length,r=e.length>10?"translate(10px, 180px)":"translate(100px, 35px)";return`transform:rotate(${n}deg)${r}`},generateIndex(t){const e=[];for(let n=0;n<t.length;n++)0!==t[n].number&&e.push(n);return e},getRandom(t,e){const n=this.generateIndex(t),r=Math.floor(Math.random()*e/(e/n.length));return n[r]},start(){if(!1===this.clickable)return;this.clickable=!1,this.transitionTime="2.5s";const t=3;let e="";const n=this.getRandom(this.prize1,this.total1),r=360/this.prize1.length,i=360*t+n*r;this.Deg+=i-this.Deg%360-45,e=this.prize1[n].prize,document.querySelector(".hours-hand").style.transform=`rotate(${this.Deg}deg)`;const s=document.querySelectorAll(".sector");s.forEach((t=>{t.classList.remove("active")})),document.querySelector(".hours-hand").style.transform=`rotate(${this.Deg}deg)`;const o=this;setTimeout((function(){o.prizeContent=e,s[n].classList.add("active"),o.prize1[n].number>0&&(o.prize1[n].number-=1,o.total1-=1),o.clickable=!0}),2500),setTimeout((function(){alert("恭喜您抽中: "+e),0===o.total1&&o.reset()}),2800)},reset(){const t=this,e=confirm("是否重置獎品數量?");if(!0!==e)return!1;t.prize1=[],t.getJSON(),t.transitionTime="0s",t.Deg=-45,t.total1=10,document.querySelector(".hours-hand").style.transform=`rotate(${this.Deg}deg)`},getJSON(){const t=this;fetch("db.json").then((t=>t.json())).then((e=>{t.prize1=e}))}},mounted:function(){this.getJSON()}},a=o,c=n(1001),l=(0,c.Z)(a,i,s,!1,null,null,null),u=l.exports;r.Z.config.productionTip=!1,new r.Z({render:t=>t(u)}).$mount("#app")}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,r,i,s){if(!r){var o=1/0;for(u=0;u<t.length;u++){r=t[u][0],i=t[u][1],s=t[u][2];for(var a=!0,c=0;c<r.length;c++)(!1&s||o>=s)&&Object.keys(n.O).every((function(t){return n.O[t](r[c])}))?r.splice(c--,1):(a=!1,s<o&&(o=s));if(a){t.splice(u--,1);var l=i();void 0!==l&&(e=l)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[r,i,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,s,o=r[0],a=r[1],c=r[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)var u=c(n)}for(e&&e(r);l<o.length;l++)s=o[l],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(u)},r=self["webpackChunklucky_wheel"]=self["webpackChunklucky_wheel"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(4962)}));r=n.O(r)})();
//# sourceMappingURL=app.js.map